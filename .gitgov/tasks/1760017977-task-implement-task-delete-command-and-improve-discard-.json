{
  "header": {
    "version": "1.0",
    "type": "task",
    "payloadChecksum": "dcd503c5b24c94fca6fcd8ffe7e38f4f561fa4c464249c238e0ea635a096f787",
    "signatures": [
      {
        "keyId": "human:camilo",
        "role": "author",
        "notes": "Signature regenerated by lint --fix",
        "signature": "KxHcWwrar+2eefKjnTR7296H0upqBRJuCPfwP6iqbsxqCSu3A24lOpniQ/ZCKj6/8owuM6As8PmxbNvCFYP/Aw==",
        "timestamp": 1762658229
      },
      {
        "keyId": "human:camilo-v2",
        "role": "author",
        "notes": "Record signed",
        "signature": "yAA2hRZ6qpwpz81QkoBujHn5p2NFIABfPwsndpyQl36wj3NaE0boiGX0QtyKXb1fekyeEWKUUNhQJNpB3Iw0Cg==",
        "timestamp": 1763344809
      }
    ]
  },
  "payload": {
    "id": "1760017977-task-implement-task-delete-command-and-improve-discard-",
    "title": "Implement task delete command and improve discard error messages",
    "status": "done",
    "priority": "high",
    "description": "Implement a complete system for discarding tasks with proper semantics and educational error messages.\n\nPROBLEM:\nCurrently there's no way to discard draft tasks. The system has:\n- cancel → ready/active → discarded\n- reject → review → discarded\n- ??? → draft → ???\n\nSOLUTION:\nAdd 'delete' command for draft tasks that removes them completely (no discarded state needed since draft never entered formal workflow).\n\nACCEPTANCE CRITERIA:\n1. Implement 'gitgov task delete <id>' command\n   - Only works for status=draft\n   - Deletes the file directly (no discarded state)\n   - Proper error if status != draft\n\n2. Unified educational error messages\n   - When wrong command used, suggest correct one\n   - Examples:\n     * cancel on draft → 'use: gitgov task delete'\n     * delete on review → 'use: gitgov task reject'\n     * reject on ready → 'use: gitgov task cancel'\n   - Consistent format across all discard commands\n\n3. Update protocol documentation\n   - Add draft → deleted transition to protocol diagram\n   - Document delete command semantics\n   - Update task_command.md specs\n\n4. Implementation in BacklogAdapter\n   - Add deleteTask() method (only for draft)\n   - Validate state before deletion\n   - Return helpful error with correct command suggestion\n\n5. CLI command registration\n   - Register 'delete' subcommand with alias 'del'\n   - Add --force flag for safety\n   - JSON output support\n\nSEMANTIC CLARITY:\n- delete: Remove draft (never entered workflow)\n- reject: Reviewer discards from review\n- cancel: Owner discards from ready/active\n\nFILES TO MODIFY:\n- packages/core/src/adapters/backlog_adapter/index.ts\n- packages/cli/src/commands/task/task-command.ts\n- packages/cli/src/commands/task/task.ts\n- packages/blueprints/03_products/protocol/04_task/task_protocol.md\n- packages/blueprints/03_products/cli/specs/task_command.md\n\nESTIMATED EFFORT: 3-4 hours",
    "tags": [
      "cli",
      "ux",
      "task-management"
    ],
    "references": [
      "pr:https://github.com/gitgovernance/monorepo/pull/33",
      "npm:https://www.npmjs.com/package/@gitgov/core/v/1.2.0",
      "pr-cli:https://github.com/gitgovernance/monorepo/pull/34"
    ],
    "cycleIds": [
      "1763344784-cycle-tareas-hurfanas-consolidadas"
    ]
  }
}