{
  "header": {
    "version": "1.0",
    "type": "task",
    "payloadChecksum": "b2165bd077f2890f3d9e9b09c30dd20fb44c26cb504e7e08dc3bf5fb4b4777b8",
    "signatures": [
      {
        "keyId": "human:camilo",
        "role": "author",
        "notes": "Signature regenerated by lint --fix",
        "signature": "fnITfuTRNrzMIteWGJ9P5DsG/2rVBlxFYb8GoJlMxN/4vub/xXg/bpsqCqtl0dX51EO1CgYQVwv+tEJSMZT7Ag==",
        "timestamp": 1762658229
      },
      {
        "keyId": "human:camilo-v2",
        "role": "author",
        "notes": "Record signed",
        "signature": "TkaZ/MUCKJpqYWbuAecY+P0kLbgZ2RVuBHsCnfWGySpWuWcHxwz2IVDOGKTwpgwDwTKjjitrQPYeIeS332NcCw==",
        "timestamp": 1763344818
      }
    ]
  },
  "payload": {
    "id": "1760340495-task-implement-universe-view-interactive-knowledge-grap",
    "title": "Implement Universe View: Interactive Knowledge Graph for GitGovernance",
    "status": "draft",
    "priority": "high",
    "description": "# Universe View: Interactive Knowledge Graph for GitGovernance\\n\\n## üéØ Overview\\n\\nBuild an interactive, immersive knowledge graph visualization that allows navigation across all GitGovernance protocols (tasks, cycles, executions, feedback, changelog, agents) with real-time updates, advanced filtering, and temporal playback capabilities.\\n\\n**Goal**: Replace static Mermaid diagrams with a scalable, multi-dimensional project visualization tool that enables teams to visualize project evolution over time, identify bottlenecks, track agent activity in real-time, and navigate complex relationships between entities at scale (1000+ nodes).\\n\\n---\\n\\n## ‚úÖ Acceptance Criteria\\n\\n### Must Have (MVP - Phase 1)\\n\\n- [ ] **Data Loading**: Load and parse tasks + cycles from \\n- [ ] **Basic Graph Rendering**: Display nodes (tasks, cycles) and edges (relationships) using force-directed layout\\n- [ ] **Visual Encoding**:\\n  - Tasks as rectangles with size proportional to complexity\\n  - Cycles as rounded containers\\n  - Color coding by status (draft=gray, ready=yellow, active=blue, done=green, blocked=red, archived=light-gray)\\n- [ ] **Interactivity**:\\n  - Click on node ‚Üí Show detailed sidebar with full entity data\\n  - Hover on node ‚Üí Highlight direct relationships\\n  - Zoom and pan navigation\\n  - Drag nodes to reorganize\\n- [ ] **Basic Filters**:\\n  - Filter by status (draft, ready, active, done, blocked, archived)\\n  - Filter by priority (low, medium, high, critical)\\n  - Filter by entity type (task, cycle)\\n- [ ] **Performance**: Render up to 500 nodes without lag (<100ms render time)\\n\\n### Should Have (Phase 2 - Multiprotocolo)\\n\\n- [ ] **Extended Data Loading**: Load executions, feedback, changelog from \\n- [ ] **Multi-Entity Visualization**:\\n  - Executions as activity pulses on tasks\\n  - Feedback as halos around entities (color by status: open=orange, resolved=green)\\n  - Changelog as temporal trails showing history\\n  - Agents as animated avatars moving between tasks\\n- [ ] **Relationship Types**:\\n  - Dependencies (solid lines)\\n  - Blockers (red pulsing lines)\\n  - Cycle containment (orbital grouping)\\n  - Feedback threads (conversation lines)\\n  - Execution history (activity trails)\\n- [ ] **Advanced Filters**:\\n  - Filter by date range\\n  - Filter by actor (assignee, creator)\\n  - Filter by tags\\n  - Filter by relationship type\\n  - Combined filters with AND/OR logic\\n- [ ] **Timeline View**: Alternative layout showing entities on temporal axis\\n\\n### Could Have (Phase 3 - Real-time & Analytics)\\n\\n- [ ] **Real-time Updates**: WebSocket/SSE integration for live updates when entities change\\n- [ ] **Visual Analytics**:\\n  - Heatmap overlay showing activity density\\n  - Critical path highlighting (longest dependency chain)\\n  - Bottleneck detection (nodes with most blockers)\\n  - Agent workload visualization (tasks per agent)\\n  - Stale entity detection (no activity in N days)\\n- [ ] **Search & Navigation**:\\n  - Full-text search across all entities\\n  - Auto-zoom to search results\\n  - Breadcrumb navigation for complex paths\\n- [ ] **Export**: Export current view as SVG/PNG\\n\\n### Nice to Have (Phase 4 - Immersive Experience)\\n\\n- [ ] **Time Travel**: Playback slider to see project evolution over time\\n- [ ] **3D View**: Optional 3D force-directed graph using Three.js\\n- [ ] **Predictive Analytics**: ML-based prediction of tasks at risk\\n- [ ] **Collaborative Features**: Multi-cursor support for team exploration\\n- [ ] **Custom Layouts**: User-defined layouts (hierarchical, circular, radial)\\n\\n---\\n\\n## üèóÔ∏è Technical Design\\n\\n### Architecture Overview\\n\\n\\n\\n### Technology Stack\\n\\n#### Core Visualization (Phase 1)\\n- **React Flow** (v11+): Primary graph library\\n  - Rationale: React-native, excellent DX, good performance for <1000 nodes\\n  - Built-in pan/zoom, drag-and-drop\\n  - TypeScript support\\n  \\n#### Alternative for Scale (Phase 3+)\\n- **Sigma.js** (v2+): If React Flow hits performance limits\\n  - Rationale: WebGL rendering, optimized for 10K+ nodes\\n  - Better performance but more complex integration\\n\\n#### Data & State\\n- **Zustand**: Global state management for filters, viewport, selection\\n- **React Query**: Cache management for data loading\\n- **IndexerAdapter**: Reuse existing  cache\\n\\n#### Performance\\n- **Web Workers**: Off-main-thread layout calculations\\n- **Virtual Viewport**: Only render visible nodes\\n- **Spatial Indexing**: Quadtree for collision detection and viewport queries\\n\\n#### Styling\\n- **Tailwind CSS**: UI components (sidebar, filters)\\n- **Canvas API**: Custom node rendering for performance-critical parts\\n\\n### Data Model\\n\\n\\n\\n### Data Flow\\n\\n\\n\\n### Performance Optimization Strategies\\n\\n1. **Level of Detail (LOD)**\\n   \\n\\n2. **Spatial Indexing**\\n   \\n\\n3. **Web Workers for Layout**\\n   \\n\\n4. **Canvas Rendering for Large Graphs**\\n   \\n\\n5. **Incremental Updates**\\n   \\n\\n---\\n\\n## üìÖ Implementation Roadmap\\n\\n### Phase 1: MVP (2-3 weeks)\\n**Goal**: Prove core concept with tasks + cycles\\n\\n**Week 1**:\\n- [ ] Setup project structure in \\n- [ ] Install dependencies: ../..                                    | Progress: resolved 1, reused 0, downloaded 0, added 0\n\n   ‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ\n   ‚îÇ                                                                   ‚îÇ\n   ‚îÇ                Update available! 9.4.0 ‚Üí 10.18.2.                 ‚îÇ\n   ‚îÇ   Changelog: https://github.com/pnpm/pnpm/releases/tag/v10.18.2   ‚îÇ\n   ‚îÇ                 Run \"pnpm add -g pnpm\" to update.                 ‚îÇ\n   ‚îÇ                                                                   ‚îÇ\n   ‚îÇ         Follow @pnpmjs for updates: https://x.com/pnpmjs          ‚îÇ\n   ‚îÇ                                                                   ‚îÇ\n   ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ\n\n../..                                    | Progress: resolved 172, reused 163, downloaded 2, added 0\n../..                                    | Progress: resolved 780, reused 666, downloaded 38, added 0\n../..                                    | Progress: resolved 821, reused 674, downloaded 80, added 0\n‚ÄâWARN‚Äâ 4 deprecated subdependencies found: glob@7.2.3, inflight@1.0.6, read-pkg-up@11.0.0, source-map@0.8.0-beta.0\n../..                                    |  +83 ++++++++\n../..                                    | Progress: resolved 826, reused 677, downloaded 82, added 75\n../..                                    | Progress: resolved 826, reused 677, downloaded 82, added 83, done\n\ndependencies:\n+ @tanstack/react-query 5.90.2\n+ d3 7.9.0\n+ reactflow 11.11.4\n+ zustand 5.0.8\n\n‚ÄâWARN‚Äâ Issues with peer dependencies found\npackages/cli\n‚îî‚îÄ‚î¨ react-dom 19.2.0\n  ‚îî‚îÄ‚îÄ ‚úï unmet peer react@^19.2.0: found 18.3.1\n\nDone in 5.2s\\n- [ ] Create  to convert index.json to GraphData\\n- [ ] Implement basic  with React Flow\\n- [ ] Load tasks + cycles, render basic nodes\\n\\n**Week 2**:\\n- [ ] Implement force-directed layout\\n- [ ] Add status-based color coding\\n- [ ] Implement basic interactivity (click, hover, drag)\\n- [ ] Create  to show entity details\\n- [ ] Add zoom/pan controls\\n\\n**Week 3**:\\n- [ ] Implement  with status/priority filters\\n- [ ] Add filter logic in \\n- [ ] Performance optimization: viewport culling\\n- [ ] Basic testing and polish\\n- [ ] Documentation\\n\\n**Deliverable**: Working MVP accessible at  route\\n\\n### Phase 2: Multiprotocolo (2-3 weeks)\\n**Goal**: Integrate all GitGovernance protocols\\n\\n**Week 4**:\\n- [ ] Extend data loading to include executions, feedback, changelog\\n- [ ] Create visual components: , \\n- [ ] Implement multi-entity rendering\\n\\n**Week 5**:\\n- [ ] Add relationship type visualization\\n- [ ] Implement advanced filters (date range, actors, tags)\\n- [ ] Create timeline layout ()\\n- [ ] Add  component\\n\\n**Week 6**:\\n- [ ] Testing with real data (100+ entities)\\n- [ ] Performance tuning\\n- [ ] UX improvements based on feedback\\n\\n**Deliverable**: Full protocol integration with advanced filtering\\n\\n### Phase 3: Real-time & Analytics (3-4 weeks)\\n**Goal**: Live updates and intelligent insights\\n\\n**Week 7-8**:\\n- [ ] Implement WebSocket/SSE for real-time updates\\n- [ ] Create  hook\\n- [ ] Animate entity changes (new nodes, status transitions)\\n- [ ] Add agent movement animations\\n\\n**Week 9-10**:\\n- [ ] Implement analytics: heatmap, critical path, bottlenecks\\n- [ ] Add search functionality\\n- [ ] Create  for navigation\\n- [ ] Export functionality (SVG/PNG)\\n\\n**Deliverable**: Real-time, analytically-enhanced visualization\\n\\n### Phase 4: Immersive Experience (4-6 weeks)\\n**Goal**: Next-generation visualization features\\n\\n**Week 11-13**:\\n- [ ] Implement time travel / playback slider\\n- [ ] Create temporal animation system\\n- [ ] Historical state reconstruction\\n\\n**Week 14-16** (Optional):\\n- [ ] 3D view with Three.js\\n- [ ] Predictive analytics (ML-based)\\n- [ ] Custom layout builder\\n- [ ] Collaborative features\\n\\n**Deliverable**: Industry-leading project visualization tool\\n\\n---\\n\\n## üîó Dependencies\\n\\n### Prerequisites (Must be completed first)\\n- None (can start immediately)\\n\\n### Recommended (Should be completed in parallel)\\n- **Improve IndexerAdapter performance** (if index.json loading is slow)\\n- **WebSocket/SSE endpoint in CLI** (for Phase 3 real-time updates)\\n\\n### Technical Dependencies\\n- React Flow v11+ or Sigma.js v2+\\n- D3.js v7+ (for layouts and utilities)\\n- Zustand (state management)\\n- React Query (data fetching)\\n- Tailwind CSS (styling)\\n\\n### Data Dependencies\\n-  must be generated and up-to-date\\n- All protocol records must follow schema (validated by gitgov audit)\\n\\n---\\n\\n## üìö References\\n\\n### GitGovernance Protocols\\n- \\n- \\n- \\n- \\n- \\n- \\n\\n### Core Implementation\\n-  (data source)\\n-  (existing diagram implementation)\\n\\n### External Resources\\n- [React Flow Documentation](https://reactflow.dev/docs/)\\n- [Sigma.js Documentation](https://www.sigmajs.org/)\\n- [D3 Force Layout](https://d3js.org/d3-force)\\n- [Graph Visualization Best Practices](https://arxiv.org/abs/2101.00675)\\n\\n---\\n\\n## üõ†Ô∏è Implementation Guidelines\\n\\n### Code Style\\n- Follow existing TypeScript conventions in \\n- Use functional components with hooks\\n- Prefer composition over inheritance\\n- Write self-documenting code with clear names\\n\\n### Performance Requirements\\n- **Target**: 60fps during interactions (pan, zoom, drag)\\n- **Load time**: <2s for 500 nodes\\n- **Memory**: <200MB for 1000 nodes\\n- **Render time**: <100ms per frame\\n\\n### Accessibility\\n- Keyboard navigation support\\n- ARIA labels for screen readers\\n- High contrast mode support\\n- Tooltips for all interactive elements\\n\\n### Testing Requirements\\n- Unit tests for data transformations ()\\n- Unit tests for filter logic ()\\n- Integration tests for data loading\\n- Visual regression tests for layouts\\n- Performance benchmarks (loading, rendering, filtering)\\n\\n### Documentation\\n- README.md in \\n- Inline JSDoc comments for all public APIs\\n- Usage guide with screenshots\\n- Architecture decision records (ADRs) for major choices\\n\\n---\\n\\n## üéØ Success Metrics\\n\\n### Quantitative\\n- **Performance**: Render 1000 nodes at 60fps\\n- **Load Time**: <2s for initial load\\n- **User Engagement**: 10+ clicks per session (navigation)\\n- **Adoption**: 80% of active users try Universe View in first week\\n\\n### Qualitative\\n- Users can answer \"What is blocking my work?\" in <30 seconds\\n- Users can trace task dependencies visually\\n- Users prefer Universe View over static diagrams\\n- Users discover insights they couldn't see before\\n\\n---\\n\\n## üö® Risks & Mitigations\\n\\n### Risk 1: Performance degradation with >1000 nodes\\n**Mitigation**: \\n- Implement virtual viewport rendering\\n- Use Web Workers for layout computation\\n- Consider migration to Sigma.js if needed\\n\\n### Risk 2: Complexity of multi-protocol integration\\n**Mitigation**:\\n- Incremental approach (Phase 1: tasks/cycles, Phase 2: add others)\\n- Well-defined data transformation layer\\n- Comprehensive testing\\n\\n### Risk 3: UX may be overwhelming for new users\\n**Mitigation**:\\n- Sensible default filters (hide archived by default)\\n- Onboarding tutorial\\n- Progressive disclosure of advanced features\\n\\n### Risk 4: Real-time updates may cause UI thrashing\\n**Mitigation**:\\n- Debounce updates (batch changes every 500ms)\\n- Animate transitions smoothly\\n- Allow users to pause live updates\\n\\n---\\n\\n## üéì Learning Resources for Implementer\\n\\n### Required Reading\\n1. React Flow tutorial: https://reactflow.dev/learn\\n2. D3 Force Simulation: https://observablehq.com/@d3/force-directed-graph\\n3. GitGovernance Protocol docs (all 6 protocols listed in References)\\n\\n### Recommended Reading\\n1. Graph visualization algorithms: https://cs.brown.edu/people/rtamassi/gdhandbook/\\n2. Performance optimization for large graphs\\n3. WebSocket integration patterns\\n\\n### Optional Reading\\n1. Three.js fundamentals (for Phase 4)\\n2. ML for predictive analytics\\n3. Collaborative real-time systems\\n\\n---\\n\\n## üìù Notes for Agent Implementation\\n\\n### Critical Considerations\\n1. **Data Integrity**: Always validate records against schemas before rendering\\n2. **Immutability**: Never mutate GraphData in place, use immutable updates\\n3. **Error Handling**: Gracefully handle missing/corrupt records\\n4. **Backwards Compatibility**: Design for protocol evolution (new entity types)\\n\\n### Quick Start Commands\\n\\n\\n### Testing During Development\\n\\n\\n---\\n\\n## üéâ Expected Impact\\n\\nThis feature will:\\n- **Differentiate GitGovernance** as the only AI-native project management tool with immersive visualization\\n- **Enable insights** that are impossible with traditional task lists\\n- **Scale effortlessly** to projects with years of history and thousands of tasks\\n- **Empower teams** to understand complex dependencies and bottlenecks at a glance\\n- **Future-proof** the platform for advanced analytics and AI-driven insights\\n\\n---\\n\\n**Status**: Draft - Ready for review and approval\\n**Estimated Effort**: 10-16 weeks (depending on phases implemented)\\n**Priority**: High (strategic product differentiator)",
    "tags": [
      "epic",
      "visualization",
      "product",
      "frontend",
      "saas"
    ],
    "references": [
      "packages/blueprints/03_products/protocol/02_task/task_protocol.md",
      "packages/blueprints/03_products/protocol/04_cycle/cycle_protocol.md",
      "packages/blueprints/03_products/protocol/06_execution/execution_protocol.md",
      "packages/blueprints/03_products/protocol/08_feedback/feedback_protocol.md",
      "packages/blueprints/03_products/protocol/07_changelog/changelog_protocol.md",
      "packages/blueprints/03_products/protocol/03_agent/agent_protocol.md",
      "packages/core/src/adapters/indexer_adapter/",
      "packages/cli/src/commands/diagram/",
      "https://reactflow.dev/docs/",
      "https://www.sigmajs.org/",
      "https://d3js.org/d3-force"
    ],
    "cycleIds": [
      "1763344784-cycle-tareas-hurfanas-consolidadas"
    ]
  }
}