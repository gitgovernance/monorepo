{
  "header": {
    "version": "1.0",
    "type": "task",
    "payloadChecksum": "5fa329093b5d17fc7142b3e63bf34b104091bdfb58067d5ff0b895f965dd92cf",
    "signatures": [
      {
        "keyId": "human:camilo",
        "role": "author",
        "notes": "Signature regenerated by lint --fix",
        "signature": "mOKZtJvb5b3qbfWyb8tsai+bkbkIoBzAAnDPaYmoy/GL2wyxroEPxoGaS37e7p3YHlPsmiY92d67OiN4B8VXCg==",
        "timestamp": 1762658229
      }
    ]
  },
  "payload": {
    "id": "1758517322-task-implement---show-archived-flag-for-diagram-command",
    "title": "Diagram: Add --show-archived flag",
    "status": "done",
    "priority": "high",
    "description": "This task involves implementing the --show-archived flag for the `gitgov diagram` command. The feature is specified in the `diagram_command.md` blueprint, covering functional requirements EARS-18, EARS-19, and EARS-20.\n\nThe primary goal is to improve the default usability of the diagram by excluding historical entities. By default, all records with status 'archived' should be filtered out. The `--show-archived` flag will override this behavior and include them in the generated diagram, which is useful for historical analysis and audits.\n\n**Acceptance Criteria:**\n1. Running `gitgov diagram` without the flag must exclude all entities with status 'archived'.\n2. Running `gitgov diagram --show-archived` must include all entities, including those with status 'archived'.\n3. The implementation must correctly pass the flag from the CLI (`@gitgov/cli`) to the core generation logic (`@gitgov/core`).\n4. The filtering logic must be implemented within the `DiagramGenerator` or `RelationshipAnalyzer` modules.",
    "tags": [
      "feature",
      "ux",
      "package:cli",
      "package:core"
    ],
    "cycleIds": [
      "1758522834-cycle-week-2-sep-29-30"
    ],
    "references": [
      "https://github.com/gitgovernance/monorepo/pull/26"
    ]
  }
}